(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[6],{131:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(43),c=n(14),i=n(48),s=n(47),u=n(52),o=n(37),l=n(2),d=n(1);t.default=function(){var e=function(){var e=Object(l.e)().params.id,t=Object(a.useState)(!0),n=Object(s.a)(t,2),r=n[0],c=n[1],d=Object(a.useState)([]),j=Object(s.a)(d,2),m=j[0],b=j[1],f=Object(a.useState)([]),p=Object(s.a)(f,2),h=p[0],O=p[1],x=Object(a.useState)({}),v=Object(s.a)(x,2),g=v[0],y=v[1],w=Object(a.useState)(null),C=Object(s.a)(w,2),k=C[0],F=C[1],_=Object(a.useCallback)((function(e){var t=Object(i.a)({},g);t[e.target.name]=e.target.value,y(t)}),[g]);Object(a.useEffect)((function(){Promise.all([Object(u.a)(),Object(u.b)(),Object(o.b)(e)]).then((function(e){b(e[0]),O(e[1]),y(e[2])})).catch(console.error).finally((function(){return c(!1)}))}),[]);var N=Object(a.useCallback)((function(e){e.preventDefault(),Object(o.e)(g).then((function(e){var t=e.status,n=e.data;202!==t?F(n):window.location.href="/customers-api"})).catch((function(e){console.log(g),/409/.test(e.message)&&F({message:"Costumer email already created!"})}))}),[g]);return{customer:g,loading:r,alterField:_,companies:h,cities:m,error:k,update:N}}(),t=e.customer,n=e.alterField,j=e.cities,m=e.error,b=e.loading,f=e.companies,p=e.update;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{hidden:!b,children:Object(d.jsx)(c.a,{})}),Object(d.jsxs)("div",{hidden:b,children:[Object(d.jsxs)("h2",{children:[Object(d.jsx)(r.a,{to:"/"}),"Editar cliente ",t.email||""]}),Object(d.jsx)("div",{className:"px-2 mx-auto mb-10 max-w-sm",children:Object(d.jsxs)("form",{action:"/customer",method:"post",className:"grid grid-flow-row",onSubmit:function(){return!1},children:[Object(d.jsxs)("div",{"data-testid":"first_name-container",children:[Object(d.jsx)("label",{htmlFor:"first_name",children:"Primeiro nome:"}),Object(d.jsx)("input",{type:"text",name:"first_name",id:"first_name",defaultValue:t.first_name,onChange:n})]}),Object(d.jsxs)("div",{"data-testid":"last_name-container",children:[Object(d.jsx)("label",{htmlFor:"last_name",children:"Segundo nome:"}),Object(d.jsx)("input",{type:"text",name:"last_name",id:"last_name",defaultValue:t.last_name,onChange:n})]}),Object(d.jsxs)("div",{"data-testid":"email-container",children:[Object(d.jsx)("label",{htmlFor:"email",children:"E-mail:"}),Object(d.jsx)("input",{type:"text",name:"email",id:"email",defaultValue:t.email,onChange:n})]}),Object(d.jsxs)("div",{"data-testid":"city-container",children:[Object(d.jsx)("label",{htmlFor:"city",children:"Cidade: "}),Object(d.jsxs)("select",{onChange:n,defaultValue:t.city,name:"city",id:"city",children:[Object(d.jsx)("option",{value:"0",children:"Selecione uma cidade"}),j.map((function(e){return Object(d.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),Object(d.jsxs)("div",{"data-testid":"company-container",children:[Object(d.jsx)("label",{htmlFor:"company",children:"Empresa: "}),Object(d.jsxs)("select",{onChange:n,defaultValue:t.company,name:"company",id:"company",children:[Object(d.jsx)("option",{value:"0",children:"Selecione uma empresa"}),f.map((function(e){return Object(d.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),Object(d.jsxs)("div",{"data-testid":"titulation-container",children:[Object(d.jsx)("label",{htmlFor:"titulation",children:"Titula\xe7\xe3o:"}),Object(d.jsx)("input",{type:"text",name:"titulation",id:"titulation",defaultValue:t.titulation,onChange:n})]}),Object(d.jsxs)("div",{"data-testid":"gender-container",children:[Object(d.jsx)("label",{htmlFor:"gender",children:"G\xeanero:"}),Object(d.jsxs)("div",{className:"flex flex-col",children:[Object(d.jsxs)("label",{htmlFor:"male",children:[Object(d.jsx)("input",{type:"radio",name:"gender",id:"male",defaultValue:t.gender,onChange:n,value:"male"}),"\xa0 Masculino"]}),Object(d.jsxs)("label",{htmlFor:"female",children:[Object(d.jsx)("input",{type:"radio",name:"gender",id:"female",defaultValue:t.gender,onChange:n,value:"female"}),"\xa0 Feminino"]}),Object(d.jsxs)("label",{htmlFor:"uninformed",children:[Object(d.jsx)("input",{type:"radio",name:"gender",defaultValue:t.gender,id:"uninformed",onChange:n,value:"uninformed"}),"\xa0 N\xe3o informar"]})]})]}),Object(d.jsx)("div",{className:"p-2 bg-red-200 border-red-900 border-2",hidden:null===m,children:Object(d.jsx)("span",{className:"text-black font-bold",children:(null===m||void 0===m?void 0:m.message)||""})}),Object(d.jsx)("div",{"data-testid":"submit-container",children:Object(d.jsx)("button",{className:"submit",onClick:p,type:"submit",children:"Alterar informa\xe7\xf5es"})})]})})]})]})}},31:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return i}));var a=n(44),r=!0,c={PRODUCTION_URL:"https://customers-ghitiago.herokuapp.com/",DEVELOPMENT_URL:"http://localhost:8080"},i=n.n(a).a.create({baseURL:r?c.PRODUCTION_URL:c.DEVELOPMENT_URL})},37:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return d}));var a=n(38),r=n.n(a),c=n(39),i=n(31),s=function(){var e=Object(c.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.c.get("/customer/groupByCity");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.c.get("/customer/"+t);case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a,c,s=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:0,e.next=3,i.c.get("/customer",{params:{city:t,page:n}});case 3:return a=e.sent,c=a.data,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.c.post("/customer",t);case 2:return n=e.sent,a=n.status,c=n.data,e.abrupt("return",{status:a,data:c});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.c.patch("/customer",t);case 2:return n=e.sent,a=n.status,c=n.data,e.abrupt("return",{status:a,data:c});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},43:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n(0);var a=n(9),r=n(1),c=function(e){var t=e.to;return Object(r.jsxs)(a.b,{to:t,children:[Object(r.jsx)("small",{className:"text-indigo-400",children:" \u2190 voltar "})," \xa0"]})}},52:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u}));var a=n(38),r=n.n(a),c=n(39),i=n(31),s=function(){var e=Object(c.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.c.get("/city");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(c.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.c.get("/company");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=6.9e76b1e2.chunk.js.map