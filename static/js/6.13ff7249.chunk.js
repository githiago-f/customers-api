(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[6],{132:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(54),c=n(43),i=n(14),u=n(56);var o=n(55);function s(e){return function(e){if(Array.isArray(e))return Object(u.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(o.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var l=n(48),d=n(47),b=n(52),m=n(37),f=n(2),j=n(53),p=n(1);t.default=function(){var e=function(){var e=Object(f.e)().params.id,t=Object(a.useState)(!0),n=Object(d.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)([]),u=Object(d.a)(i,2),o=u[0],j=u[1],p=Object(a.useState)([]),h=Object(d.a)(p,2),O=h[0],v=h[1],x=Object(a.useState)({}),g=Object(d.a)(x,2),y=g[0],w=g[1],C=Object(a.useState)(null),k=Object(d.a)(C,2),N=k[0],S=k[1],E=Object(a.useCallback)((function(e){var t=Object(l.a)({},y);t[e.target.name]=e.target.value,w(t)}),[y]);Object(a.useEffect)((function(){Promise.all([Object(b.a)(),Object(b.b)(),Object(m.b)(e)]).then((function(e){j([{id:0,name:"Selecione uma cidade"}].concat(s(e[0]))),v([{id:0,name:"Selecione uma empresa"}].concat(s(e[1]))),w(e[2])})).catch(console.error).finally((function(){return c(!1)}))}),[]);var F=Object(a.useCallback)((function(e){e.preventDefault(),Object(m.e)(y).then((function(e){var t=e.status,n=e.data;202!==t?S(n):window.location.href="/customers-api"})).catch((function(e){console.log(y),/409/.test(e.message)&&S({message:"Costumer email already created!"})}))}),[y]);return{customer:y,loading:r,alterField:E,companies:O,cities:o,error:N,update:F}}(),t=e.customer,n=e.alterField,u=e.cities,o=e.error,h=e.loading,O=e.companies,v=e.update;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{hidden:!h,children:Object(p.jsx)(i.a,{})}),Object(p.jsxs)("div",{hidden:h,children:[Object(p.jsxs)("h2",{children:[Object(p.jsx)(c.a,{to:"/"}),"Editar cliente ",t.email||""]}),Object(p.jsx)("div",{className:"px-2 mx-auto mb-10 max-w-sm",children:Object(p.jsxs)("form",{action:"/customer",method:"post",className:"grid grid-flow-row",onSubmit:function(){return!1},children:[Object(p.jsx)(j.a,{name:"first_name",id:"first_name",value:t.first_name,onChange:n,label:"Primeiro nome:"}),Object(p.jsx)(j.a,{name:"last_name",id:"last_name",value:t.last_name,onChange:n,label:"Sobrenome:"}),Object(p.jsx)(j.a,{name:"email",onChange:n,value:t.email,id:"email",label:"E-mail:"}),Object(p.jsx)(r.a,{id:"city",label:"Cidade",name:"city",options:u.map((function(e){return{key:e.id,label:e.name}})),onChange:n,value:t.city}),Object(p.jsx)(r.a,{label:"Empresa:",name:"company",id:"company",options:O.map((function(e){return{key:e.id,label:e.name}})),onChange:n,value:t.company}),Object(p.jsx)(j.a,{label:"Titula\xe7\xe3o:",id:"titulation",name:"titulation",onChange:n,value:t.titulation}),Object(p.jsxs)("div",{"data-testid":"gender-container",children:[Object(p.jsx)("label",{htmlFor:"gender",children:"G\xeanero:"}),Object(p.jsxs)("div",{className:"flex flex-col",children:[Object(p.jsxs)("label",{htmlFor:"male",children:[Object(p.jsx)("input",{type:"radio",name:"gender",id:"male",radioGroup:"gender",onChange:n,value:"male"}),"\xa0 Masculino"]}),Object(p.jsxs)("label",{htmlFor:"female",children:[Object(p.jsx)("input",{type:"radio",name:"gender",radioGroup:"gender",id:"female",onChange:n,value:"female"}),"\xa0 Feminino"]}),Object(p.jsxs)("label",{htmlFor:"uninformed",children:[Object(p.jsx)("input",{type:"radio",name:"gender",radioGroup:"gender",id:"uninformed",onChange:n,value:"uninformed"}),"\xa0 N\xe3o informar"]})]})]}),Object(p.jsx)("div",{className:"p-2 bg-red-200 border-red-900 border-2",hidden:null===o,children:Object(p.jsx)("span",{className:"text-black font-bold",children:(null===o||void 0===o?void 0:o.message)||""})}),Object(p.jsx)("div",{"data-testid":"submit-container",children:Object(p.jsx)("button",{className:"submit",onClick:v,type:"submit",children:"Alterar informa\xe7\xf5es"})})]})})]})]})}},31:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return i}));var a=n(44),r=!0,c={PRODUCTION_URL:"https://customers-ghitiago.herokuapp.com/",DEVELOPMENT_URL:"http://localhost:8080"},i=n.n(a).a.create({baseURL:r?c.PRODUCTION_URL:c.DEVELOPMENT_URL})},37:function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return d}));var a=n(38),r=n.n(a),c=n(39),i=n(31),u=function(){var e=Object(c.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.c.get("/customer/groupByCity");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.c.get("/customer/"+t);case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a,c,u=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:0,e.next=3,i.c.get("/customer",{params:{city:t,page:n}});case 3:return a=e.sent,c=a.data,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.c.post("/customer",t);case 2:return n=e.sent,a=n.status,c=n.data,e.abrupt("return",{status:a,data:c});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.c.patch("/customer",t);case 2:return n=e.sent,a=n.status,c=n.data,e.abrupt("return",{status:a,data:c});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},43:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n(0);var a=n(9),r=n(1),c=function(e){var t=e.to;return Object(r.jsxs)(a.b,{to:t,children:[Object(r.jsx)("small",{className:"text-indigo-400",children:" \u2190 voltar "})," \xa0"]})}},52:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return o}));var a=n(38),r=n.n(a),c=n(39),i=n(31),u=function(){var e=Object(c.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.c.get("/city");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(c.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.c.get("/company");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},53:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(0);var a=n(1),r=function(e){return Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{htmlFor:e.id,children:e.label}),Object(a.jsx)("input",{type:"text",name:e.name,id:e.id,defaultValue:e.value,onChange:e.onChange})]})}},54:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(0);var a=n(1),r=function(e){return Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{htmlFor:e.id,children:e.label}),Object(a.jsx)("select",{onChange:e.onChange,value:e.value,name:e.name,id:e.id,children:e.options.map((function(e){return Object(a.jsx)("option",{value:e.key,children:e.label},e.key)}))})]})}}}]);
//# sourceMappingURL=6.13ff7249.chunk.js.map