(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[4],{31:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(36),i=n.n(r).a.create({baseURL:"http://localhost:8080"})},32:function(t,e,n){"use strict";n.d(e,"d",(function(){return c})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return l})),n.d(e,"e",(function(){return f}));var r=n(33),i=n.n(r),o=n(34),a=n(31),c=function(){var t=Object(o.a)(i.a.mark((function t(){var e,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.get("/customer/groupByCity");case 2:return e=t.sent,n=e.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),u=function(){var t=Object(o.a)(i.a.mark((function t(e){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.get("/customer/"+e);case 2:return n=t.sent,r=n.data,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),s=function(){var t=Object(o.a)(i.a.mark((function t(e){var n,r,o,c=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:0,t.next=3,a.a.get("/customer",{params:{city:e,page:n}});case 3:return r=t.sent,o=r.data,t.abrupt("return",o);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=Object(o.a)(i.a.mark((function t(e){var n,r,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.post("/customer",e);case 2:return n=t.sent,r=n.status,o=n.data,t.abrupt("return",{status:r,data:o});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=Object(o.a)(i.a.mark((function t(e){var n,r,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.patch("/customer",e);case 2:return n=t.sent,r=n.status,o=n.data,t.abrupt("return",{status:r,data:o});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},35:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n(0);var r=n(9),i=n(1),o=function(t){var e=t.to;return Object(i.jsxs)(r.b,{to:e,children:[Object(i.jsx)("small",{className:"text-indigo-400",children:" \u2190 voltar "})," \xa0"]})}},37:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};e.__esModule=!0,i(n(40),e),i(n(76),e),i(n(77),e),i(n(79),e),i(n(80),e),i(n(81),e)},40:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};e.__esModule=!0,i(n(74),e),i(n(75),e),i(n(50),e)},50:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();e.__esModule=!0,e.InvalidEmail=void 0;var i=function(t){function e(e){var n=t.call(this,"Invalid email: "+e)||this;return n.name="InvalidEmail",n}return r(e,t),e}(Error);e.InvalidEmail=i},71:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};e.__esModule=!0,i(n(72),e),i(n(37),e),i(n(84),e)},72:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};e.__esModule=!0,i(n(73),e),i(n(82),e),i(n(83),e)},73:function(t,e,n){"use strict";e.__esModule=!0,e.City=void 0;var r=n(37);e.City=function(t){return{id:t.id,name:r.Name(t.name)}}},74:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();e.__esModule=!0,e.InvalidName=void 0;var i=function(t){function e(e){var n=t.call(this,"Invalid name: "+e)||this;return n.name="InvalidName",n}return r(e,t),e}(Error);e.InvalidName=i},75:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();e.__esModule=!0,e.InvalidGender=void 0;var i=function(t){function e(){var e=t.call(this,'Gender should be "male", "female" or "uninformed"')||this;return e.name="InvalidGender",e}return r(e,t),e}(Error);e.InvalidGender=i},76:function(t,e,n){"use strict";e.__esModule=!0,e.Email=void 0;var r=n(50);e.Email=function(t){if(!t)throw new r.InvalidEmail("E-mail should not be null or empty");var e=t.trim().length,n=["E-mail too short (min size is 4)","E-mail too long (max size is 320)"],i=n[0],o=n[1];if(e<=3||e>320)throw new r.InvalidEmail(e>320?o:i);if(!/^[\w.-]+@([\w-]+\.)+\w{2,}$/.test(t))throw new r.InvalidEmail(t+" is not an e-mail");return t}},77:function(t,e,n){"use strict";e.__esModule=!0,e.Gender=void 0;var r=n(51),i=n(40),o=["male","female","uninformed"];e.Gender=function(t){if(!t)throw new i.InvalidGender;if(t.trim().length<1&&!r.some(o,t.toLowerCase()))throw new i.InvalidGender;return t}},79:function(t,e,n){"use strict";e.__esModule=!0,e.Name=void 0;var r=n(40);e.Name=function(t){if(!t)throw new r.InvalidName("Name should not be null or empty");var e=t.trim().length;if(e<=2||e>80)throw new r.InvalidName(e>80?"Name is too long (max 80)":"Name is too short (min 3)");return t}},80:function(t,e,n){"use strict";e.__esModule=!0,e.CustomersInCity=void 0;e.CustomersInCity=function(t,e){return{city_id:t.id,city:t.name,customers_total:e}}},81:function(t,e,n){"use strict";e.__esModule=!0,e.Paged=void 0;e.Paged=function(t){return{results:t.results,pages:t.pages}}},82:function(t,e,n){"use strict";e.__esModule=!0,e.Company=void 0;var r=n(37);e.Company=function(t){return{id:t.id,name:r.Name(t.name)}}},83:function(t,e,n){"use strict";e.__esModule=!0,e.Customer=void 0;var r=n(37);e.Customer=function(t){return{id:t.id,first_name:r.Name(t.first_name),last_name:r.Name(t.last_name),email:r.Email(t.email),company:t.company,city:t.city,titulation:t.titulation,gender:r.Gender(t.gender)}}},84:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};e.__esModule=!0,i(n(85),e),i(n(86),e),i(n(87),e)},85:function(t,e,n){"use strict";e.__esModule=!0},86:function(t,e,n){"use strict";e.__esModule=!0},87:function(t,e,n){"use strict";e.__esModule=!0},90:function(t,e,n){"use strict";n.r(e);var r=n(39),i=n(0),o=n(9),a=n(1),c=function(t){return Object(a.jsxs)(o.b,{to:"/customer/".concat(t.id),className:"customer-card",children:[Object(a.jsx)("div",{className:"w-40",children:Object(a.jsx)("img",{src:"https://via.placeholder.com/300x300?text=".concat(t.first_name),alt:"profile of ".concat(t.email),className:"rounded-l-md w-full h-full"})}),Object(a.jsxs)("div",{className:"info",children:[Object(a.jsx)("h4",{children:Object(a.jsx)("small",{title:t.email,children:t.email})}),Object(a.jsx)("h3",{"data-testid":"customer-name",children:t.first_name+" "+t.last_name}),Object(a.jsx)("h4",{children:Object(a.jsx)("small",{children:t.company})})]})]})},u=n(38),s=n(71),l=n(32),f=n(2),d=Object(s.Customer)({city:2,email:"email@email.com",first_name:"atata",company:1,gender:"female",last_name:"askldjf",titulation:"jaehaufhe"}),p=n(14),m=n(35),h=n(51);e.default=function(){var t=function(){var t=Object(f.e)().params.city_id,e=Object(i.useState)(!0),n=Object(u.a)(e,2),r=n[0],o=n[1],a=Object(i.useState)([d,d,d,d,d,d,d,d,d,d]),c=Object(u.a)(a,2),s=c[0],p=c[1],m=Object(i.useState)(0),h=Object(u.a)(m,2),v=h[0],_=h[1];return Object(i.useEffect)((function(){Object(l.c)(t||"0").then((function(t){p(t.results),_(t.pages)})).catch(console.error).finally((function(){return o(!1)}))}),[]),{customers:s,loading:r,pages:v,loadMore:Object(i.useCallback)((function(e){Object(l.c)(t||"0",e).then((function(t){p(t.results)})).catch()}),[s])}}(),e=t.customers,n=t.loading,o=t.pages,s=t.loadMore;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("h2",{children:[Object(a.jsx)(m.a,{to:"/"}),"Clientes na cidade:"]}),Object(a.jsx)("div",{hidden:!n,children:Object(a.jsx)(p.a,{})}),Object(a.jsx)("div",{className:"customer-list mb-5",hidden:n,children:e.map((function(t,e){return Object(i.createElement)(c,Object(r.a)(Object(r.a)({},t),{},{key:e}))}))}),Object(a.jsx)("div",{className:"space-x-2 mb-16 flex flex-row justify-end",hidden:0!==o,children:Object(h.range)(1,o+1).map((function(t){return Object(a.jsx)("button",{className:"page-select",onClick:function(){return s(t)},children:t},t)}))})]})}}}]);
//# sourceMappingURL=4.1ced66cc.chunk.js.map