(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[5],{31:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(36),r=n.n(a).a.create({baseURL:"http://localhost:8080"})},32:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return d}));var a=n(33),r=n.n(a),c=n(34),i=n(31),s=function(){var e=Object(c.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("/customer/groupByCity");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("/customer/"+t);case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a,c,s=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:0,e.next=3,i.a.get("/customer",{params:{city:t,page:n}});case 3:return a=e.sent,c=a.data,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("/customer",t);case 2:return n=e.sent,a=n.status,c=n.data,e.abrupt("return",{status:a,data:c});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.patch("/customer",t);case 2:return n=e.sent,a=n.status,c=n.data,e.abrupt("return",{status:a,data:c});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},35:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n(0);var a=n(9),r=n(1),c=function(e){var t=e.to;return Object(r.jsxs)(a.b,{to:t,children:[Object(r.jsx)("small",{className:"text-indigo-400",children:" \u2190 voltar "})," \xa0"]})}},41:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u}));var a=n(33),r=n.n(a),c=n(34),i=n(31),s=function(){var e=Object(c.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("/city");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(c.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("/company");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},91:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(39),c=n(38),i=n(32),s=n(41),u=n(35),o=n(1);t.default=function(){var e=function(){var e=Object(a.useState)([]),t=Object(c.a)(e,2),n=t[0],u=t[1],o=Object(a.useState)([]),l=Object(c.a)(o,2),d=l[0],m=l[1],j=Object(a.useState)({city:0,company:0}),b=Object(c.a)(j,2),p=b[0],f=b[1],h=Object(a.useState)(null),x=Object(c.a)(h,2),O=x[0],v=x[1],g=Object(a.useCallback)((function(e){var t=Object(r.a)({},p);t[e.target.name]=e.target.value,f(t)}),[p]);Object(a.useEffect)((function(){Promise.all([Object(s.a)(),Object(s.b)()]).then((function(e){u(e[0]),m(e[1])})).catch(console.error)}),[]);var y=Object(a.useCallback)((function(e){e.preventDefault(),Object(i.a)(p).then((function(e){var t=e.status,n=e.data;201!==t?v(n):window.location.href="/customers-api"})).catch((function(e){/409/.test(e.message)&&v({message:"Costumer email already created!"})}))}),[p]);return{alterField:g,customer:p,cities:n,companies:d,create:y,error:O}}(),t=e.customer,n=e.alterField,l=e.cities,d=e.companies,m=e.error,j=e.create;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("h2",{children:[Object(o.jsx)(u.a,{to:"/"}),"Criar cliente"]}),Object(o.jsx)("div",{className:"px-2 mx-auto mb-10 max-w-sm",children:Object(o.jsxs)("form",{action:"/customer",method:"post",className:"grid grid-flow-row",onSubmit:function(){return!1},children:[Object(o.jsxs)("div",{"data-testid":"first_name-container",children:[Object(o.jsx)("label",{htmlFor:"first_name",children:"Primeiro nome:"}),Object(o.jsx)("input",{type:"text",name:"first_name",id:"first_name",defaultValue:t.first_name,onChange:n})]}),Object(o.jsxs)("div",{"data-testid":"last_name-container",children:[Object(o.jsx)("label",{htmlFor:"last_name",children:"Segundo nome:"}),Object(o.jsx)("input",{type:"text",name:"last_name",id:"last_name",defaultValue:t.last_name,onChange:n})]}),Object(o.jsxs)("div",{"data-testid":"email-container",children:[Object(o.jsx)("label",{htmlFor:"email",children:"E-mail:"}),Object(o.jsx)("input",{type:"text",name:"email",id:"email",defaultValue:t.email,onChange:n})]}),Object(o.jsxs)("div",{"data-testid":"city-container",children:[Object(o.jsx)("label",{htmlFor:"city",children:"Cidade: "}),Object(o.jsxs)("select",{onChange:n,name:"city",id:"city",children:[Object(o.jsx)("option",{value:"0",children:"Selecione uma cidade"}),l.map((function(e){return Object(o.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),Object(o.jsxs)("div",{"data-testid":"company-container",children:[Object(o.jsx)("label",{htmlFor:"company",children:"Empresa: "}),Object(o.jsxs)("select",{onChange:n,defaultValue:t.company,name:"company",id:"company",children:[Object(o.jsx)("option",{value:"0",children:"Selecione uma empresa"}),d.map((function(e){return Object(o.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),Object(o.jsxs)("div",{"data-testid":"titulation-container",children:[Object(o.jsx)("label",{htmlFor:"titulation",children:"Titula\xe7\xe3o:"}),Object(o.jsx)("input",{type:"text",name:"titulation",id:"titulation",defaultValue:t.titulation,onChange:n})]}),Object(o.jsxs)("div",{"data-testid":"gender-container",children:[Object(o.jsx)("label",{htmlFor:"gender",children:"G\xeanero:"}),Object(o.jsxs)("div",{className:"flex flex-col",children:[Object(o.jsxs)("label",{htmlFor:"male",children:[Object(o.jsx)("input",{type:"radio",name:"gender",id:"male",onChange:n,value:"male"}),"\xa0 Masculino"]}),Object(o.jsxs)("label",{htmlFor:"female",children:[Object(o.jsx)("input",{type:"radio",name:"gender",id:"female",onChange:n,value:"female"}),"\xa0 Feminino"]}),Object(o.jsxs)("label",{htmlFor:"uninformed",children:[Object(o.jsx)("input",{type:"radio",name:"gender",id:"uninformed",onChange:n,value:"uninformed"}),"\xa0 N\xe3o informar"]})]})]}),Object(o.jsx)("div",{className:"p-2 bg-red-200 border-red-900 border-2",hidden:null===m,children:Object(o.jsx)("span",{className:"text-black font-bold",children:(null===m||void 0===m?void 0:m.message)||""})}),Object(o.jsx)("div",{"data-testid":"submit-container",children:Object(o.jsx)("button",{className:"submit",onClick:j,type:"submit",children:"Criar"})})]})})]})}}}]);
//# sourceMappingURL=5.cd0b6dc5.chunk.js.map